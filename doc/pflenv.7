.\" $Id$
.Dd February 26, 2009
.Dt PFLENV 7
.ds volume Pittsburgh Supercomputing Center
.Os http://www.psc.edu/
.Sh NAME
.Nm pflenv
.Nd PSC file system environmental variables
.Sh SYNOPSIS
.Bl -tag -compact
.It Ev LNET_ACCEPT_PORT
.It Ev LNET_NETWORKS
.It Ev LNET_ROUTES
.It Ev LNET_USESDP
.It Ev PSC_DUMPSTACK
.It Ev PSC_LOG_FILE
.It Ev PSC_LOG_FORMAT
.It Ev PSC_LOG_LEVEL
.It Ev PSC_LOG_LEVEL_ Ns Ar subsys
.It Ev USOCK_CPORT
.It Ev USOCK_SOCKBUFSIZ
.El
.Sh DESCRIPTION
The following environmental variables are recognized by most PSC file
system utilities to refine program behavior:
.Bl -tag -width Ds
.It Ev LNET_ACCEPT_PORT
Specify an alternate local
.Xr tcp 7
port for listening network sockets created by the Lustre networking
stack.
The default is
.Li 988 .
.It Ev LNET_NETWORKS
The list of networks and interfaces known to the Lustre networking
stack.
.Pp
Examples:
.Bd -literal -offset indent
tcp4(ib0), tcp5(ib1)
tcp0(eth0)
.Ed
.It Ev LNET_ROUTES
The list of Lustre routes for interconnecting networks.
.Pp
Examples:
.Bd -literal -offset indent
fill me in
.Ed
.It Ev LNET_USESDP
Specify a boolean
.Li 0
or
.Li 1
designating whether sockets direct should be used for
.Xr tcp 7
sockets used by the networking stack.
.It Ev PSC_DUMPSTACK Pq debugging
When segmentation violations or fatal error conditions occur, try to
print a stack trace if this variable is defined.
.It Ev PSC_LOG_FILE
This path specifies the file name where log messages are written.
.It Ev PSC_LOG_FORMAT
This
.Xr printf 3 Ns -like
value is prepended to each log message reported.
The following specifiers are recognized:
.Pp
.Bl -tag -offset indent -compact -width 4n
.It Ic F
function name from where log message originated
.It Ic f
file name from where log message originated
.It Ic H
full host name from where log message originated
.It Ic h
short host name from where log message originated
.It Ic i
ID of thread which generated log message
.It Ic L
numeric value of log message importance level
.It Ic l
file line number from where log message originated
.It Ic P
PID of process on behalf of which fuse operates
.It Ic n
symbolic name of thread which generated log message
.It Ic r
.Tn MPI
rank of process which generated log message
.It Ic s
seconds since epoch when message was generated
.It Ic t
subsystem
.Tn ID
from where log message originated
.It Ic T
subsystem name from where log message originated
.It Ic U
user ID of process on behalf of which fuse operates
.It Ic u
microseconds into current second when generated
.El
.Pp
Examples:
.Bd -literal -offset indent
[%s:%06u %n:%F:%l]
.Ed
.It Ev PSC_LOG_LEVEL
Each log message has an associated
.Dq level
numeric value which can be used to filter granularity of importance.
This environmental variable specifies the minimum level of importance
necessary for messages to be reported.
.Pp
Ranges from
.Li 1
.Pq critical messages only
to
.Li 6
.Pq full trace information .
.It Ev PSC_LOG_LEVEL_ Ns Ar subsys
Like
.Ev PSC_LOG_LEVEL ,
but applies only to the given
.Ar subsys .
Control inquiries are available to most daemons that can reveal
registered subsystems.
.It Ev USOCK_CPORT
Specify an alternate remote/peer
.Xr tcp 7
port for connecting networking sockets.
The default is
.Li 988 .
.It Ev USOCK_SOCKBUFSIZ
Specify an alternative value for the amount of data that can either be
queued awaiting tranmission or accumulate in the kernel awaiting
reception by a process.
The default is the
.Xr socket 2
value initialized by the operating system.
.El
.Sh SEE ALSO
.Xr csh 1 ,
.Xr env 1 ,
.Xr login 1 ,
.Xr sh 1 ,
.Xr getenv 3
