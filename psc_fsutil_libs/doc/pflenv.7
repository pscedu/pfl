.\" $Id$
.\" %PSC_START_COPYRIGHT%
.\" -----------------------------------------------------------------------------
.\" Copyright (c) 2008-2011, Pittsburgh Supercomputing Center (PSC).
.\"
.\" Permission to use, copy, and modify this software and its documentation
.\" without fee for personal use or non-commercial use within your organization
.\" is hereby granted, provided that the above copyright notice is preserved in
.\" all copies and that the copyright and this permission notice appear in
.\" supporting documentation.  Permission to redistribute this software to other
.\" organizations or individuals is not permitted without the written permission
.\" of the Pittsburgh Supercomputing Center.  PSC makes no representations about
.\" the suitability of this software for any purpose.  It is provided "as is"
.\" without express or implied warranty.
.\" -----------------------------------------------------------------------------
.\" %PSC_END_COPYRIGHT%
.Dd February 23, 2011
.Dt PFLENV 7
.ds volume Pittsburgh Supercomputing Center
.Os http://www.psc.edu/
.Sh NAME
.Nm pflenv
.Nd
.Tn PSC
file system environment variables
.Sh SYNOPSIS
.Bl -tag -compact
.It Ev LNET_ACCEPT
.It Ev LNET_ACCEPT_BACKLOG
.It Ev LNET_ACCEPT_PORT
.It Ev LNET_ACCEPT_TIMEOUT
.It Ev LNET_IP2NETS
.It Ev LNET_NETWORKS
.It Ev LNET_ROUTES
.It Ev PSC_DUMPSTACK
.It Ev PSC_LOG_FILE
.It Ev PSC_LOG_FORMAT
.It Ev PSC_LOG_LEVEL
.It Ev PSC_LOG_LEVEL_ Ns Ar subsys
.It Ev USOCK_CPORT
.It Ev USOCK_FAIR_LIMIT
.It Ev USOCK_MIN_BULK
.It Ev USOCK_NPOLLTHREADS
.It Ev USOCK_PEERTXCREDITS
.It Ev USOCK_POLL_TIMEOUT
.It Ev USOCK_PORTPID
.It Ev USOCK_SOCKBUFSIZ
.It Ev USOCK_SOCKNAGLE
.It Ev USOCK_TIMEOUT
.It Ev USOCK_TXCREDITS
.El
.Sh DESCRIPTION
The following environment variables are recognized by most PSC file
system utilities to refine program behavior:
.Bl -tag -width Ds
.It Ev LNET_ACCEPT_PORT
Specify an alternate local
.Xr tcp 7
port for listening network sockets created by the Lustre networking
stack.
The default is
.Li 988 .
.It Ev LNET_NETWORKS
The list of networks and interfaces known to the Lustre networking
stack.
.Pp
Examples:
.Bd -literal -offset indent
tcp0(eth0),tcp1(eth1)
sdp4(ib0)
.Ed
.It Ev LNET_ROUTES
The list of Lustre routes for interconnecting networks.
.Pp
Examples:
.Bd -literal -offset indent
tcp1 3@ptl1
tcp1 [2560,2563,2568,2571,2572,2575]@ptl0
.Ed
.It Ev PSC_DUMPSTACK Pq debugging
When segmentation violations or fatal error conditions occur, try to
print a stack trace if this variable is defined.
.It Ev PSC_LOG_FILE
This path specifies the file name where log messages are written.
.It Ev PSC_LOG_FORMAT
This
.Xr printf 3 Ns -like
value is prepended to each log message reported.
The following specifiers are recognized:
.Pp
.Bl -tag -offset 5n -compact -width 6n
.It Ic B
source code file base name
.It Ic D Ns Aq Ar fmt
.Xr strftime 3 Ns -like
format of time
.It Ic F
source code function name
.It Ic f
source code file full path name
.It Ic H
full system host name
.It Ic h
short system host name
.It Ic i
.Tn ID
of daemon thread which generated log message
.It Ic L
numeric level of log message importance
.It Ic l
source code file line number
.It Ic P
file system request's originating process'
.Tn PID
.It Ic N
daemon base name
.It Ic n
symbolic name of thread which generated log message
.It Ic r
.Tn MPI
rank of process
.It Ic s
seconds since Epoch
.Pq same as Li %D\*(Lt%s\*(Gt
.It Ic t
subsystem
.Tn ID
which generated log message
.It Ic T
subsystem name which generated log message
.It Ic U
file system request's originating process' user
.Tn ID
.It Ic u
microseconds into current second when generated
.El
.Pp
Examples:
.Bd -literal -offset indent
[%D<%s>:%06u %n %F %l]
.Ed
.It Ev PSC_LOG_LEVEL
Each log message has an associated
.Dq level
numeric value which can be used to filter granularity of importance.
This environment variable specifies the minimum level of importance
necessary for messages to be reported.
.Pp
Ranges from
.Li 1
.Pq critical messages only
to
.Li 6
.Pq full trace information .
.It Ev PSC_LOG_LEVEL_ Ns Ar subsys
Like
.Ev PSC_LOG_LEVEL ,
but applies only to the given
.Ar subsys .
Control inquiries are available to most daemons that can reveal
registered subsystems.
.It Ev USOCK_CPORT
Specify an alternate remote/peer
.Xr tcp 7
port for connecting networking sockets.
The default is
.Li 988 .
.It Ev USOCK_SOCKBUFSIZ
Specify an alternative value for the amount of data that can either be
queued awaiting tranmission or accumulate in the kernel awaiting
reception by a process.
The default is the
.Xr socket 2
value initialized by the operating system.
.El
.Sh SEE ALSO
.Xr csh 1 ,
.Xr env 1 ,
.Xr login 1 ,
.Xr sh 1 ,
.Xr getenv 3 ,
.Xr environ 7
